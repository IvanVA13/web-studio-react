{"version":3,"sources":["components/OrderList/OrderList.module.scss","components/OrderList/OrderList.js","views/OrdersPage.js"],"names":["module","exports","OrderList","dispatch","useDispatch","useEffect","fetchOrders","orders","useSelector","getAllOrders","handleClick","e","updateOrderStatus","currentTarget","id","Container","type","className","styles","map","_id","productType","createdAt","comment","status","btn","date","Date","newDate","toLocaleString","newType","toUpperCase","slice","button","disabled","onClick","OrdersPage"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,OAAS,0BAA0B,YAAY,6BAA6B,aAAa,8BAA8B,cAAc,+BAA+B,aAAe,gCAAgC,kBAAkB,mCAAmC,aAAa,8BAA8B,aAAa,8BAA8B,aAAa,8BAA8B,oBAAoB,qCAAqC,aAAa,8BAA8B,gBAAgB,iCAAiC,eAAe,gCAAgC,mBAAmB,oCAAoC,oBAAoB,qCAAqC,sBAAsB,uCAAuC,sBAAsB,yC,oGCYrxBC,EAAY,WACvB,IAAMC,EAAWC,cACjBC,qBAAU,WACRF,EAASG,2BACR,CAACH,IAEJ,IAAMI,EAASC,YAAYC,gBACrBC,EAAc,SAAAC,GAClBR,EAASS,4BAAkBD,EAAEE,cAAcC,MAE7C,OACE,eAACC,EAAA,EAAD,CAAWC,KAAK,QAAhB,UACE,oBAAIC,UAAWC,IAAO,eAAtB,kDACA,qBAAID,UAAWC,IAAO,cAAtB,UACE,qBACED,UAAS,UAAKC,IAAO,cAAZ,YAA6BA,IAAO,sBAD/C,UAIE,mBAAGD,UAAWC,IAAO,cAArB,2EACA,sBACED,UAAS,UAAKC,IAAO,cAAZ,YAA6BA,IAAO,sBAD/C,UAGE,mBAAGD,UAAS,UAAKC,IAAO,eAAxB,kDACA,mBACED,UAAS,UAAKC,IAAO,iBAAZ,YAAgCA,IAAO,yBADlD,+HAMF,mBACED,UAAS,UAAKC,IAAO,gBAAZ,YAA+BA,IAAO,wBADjD,yFAbI,wBAmBLX,EAAOY,KAAI,YAA4D,IAAzDC,EAAwD,EAAxDA,IAAKC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,UAAWC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,IACrDC,EAAO,IAAIC,KAAKL,GAChBM,EAAO,UAAMN,EAAYI,EAAKG,iBAAmB,IACjDC,EAAUT,EAAW,UACpBA,EAAY,GAAGU,eADK,OACWV,EAAYW,MAAM,IACpD,GAEJ,OACE,qBAAIf,UAAWC,IAAO,cAAtB,UACE,mBAAGD,UAAWC,IAAO,cAArB,SAAqCU,IACrC,sBAAKX,UAAS,UAAKC,IAAO,eAA1B,UACE,mBAAGD,UAAS,UAAKC,IAAO,eAAxB,SAA0CY,IAC1C,mBAAGb,UAAS,UAAKC,IAAO,kBAAxB,SAA6CK,OAE/C,mBACEN,UAAS,UAAKC,IAAO,gBAAZ,YACPA,IAAO,gBAAD,OAAiBM,KAF3B,SAKGA,KAEDC,GACA,wBACER,UAAS,UAAKC,IAAOe,OAAZ,YAAsBf,IAAO,cACtCF,KAAK,SACLF,GAAIM,EACJc,SAAqB,QAAXV,EACVW,QAASzB,EALX,+FAdsCU,aC/CvCgB,UAPI,WACjB,OACE,+BACE,cAAC,EAAD","file":"static/js/orders-page.fe316b46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"OrderList_button__3pFxC\",\"order-btn\":\"OrderList_order-btn__1V1xE\",\"order-list\":\"OrderList_order-list__BfMMY\",\"order-title\":\"OrderList_order-title__2oypw\",\"button__icon\":\"OrderList_button__icon__3toYv\",\"order-container\":\"OrderList_order-container__3m-OL\",\"order-item\":\"OrderList_order-item__1c3h2\",\"order-date\":\"OrderList_order-date__3HGVr\",\"order-desc\":\"OrderList_order-desc__3lJ4Z\",\"order-desc-header\":\"OrderList_order-desc-header__3HQr6\",\"order-type\":\"OrderList_order-type__2L0_b\",\"order-comment\":\"OrderList_order-comment__30MMC\",\"order-status\":\"OrderList_order-status__3p0uS\",\"order-status-new\":\"OrderList_order-status-new__mSvyZ\",\"order-status-done\":\"OrderList_order-status-done__3P-pP\",\"order-status-cancel\":\"OrderList_order-status-cancel__1d9X7\",\"order-status-header\":\"OrderList_order-status-header__l25-g\"};","import React from 'react';\n\nimport styles from './OrderList.module.scss';\nimport Container from '../Wrappers/Container';\nimport { useSelector } from 'react-redux';\nimport {\n  fetchOrders,\n  getAllOrders,\n  updateOrderStatus,\n} from '../../redux/orders';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nexport const OrderList = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchOrders());\n  }, [dispatch]);\n\n  const orders = useSelector(getAllOrders);\n  const handleClick = e => {\n    dispatch(updateOrderStatus(e.currentTarget.id));\n  };\n  return (\n    <Container type=\"order\">\n      <h2 className={styles['order-title']}>Заказы</h2>\n      <ul className={styles['order-list']}>\n        <li\n          className={`${styles['order-item']} ${styles['order-item-header']}`}\n          key=\"header of order list\"\n        >\n          <p className={styles['order-date']}>Дата заказа</p>\n          <div\n            className={`${styles['order-desc']} ${styles['order-desc-header']}`}\n          >\n            <p className={`${styles['order-type']}`}>Услуга</p>\n            <p\n              className={`${styles['order-comment']} ${styles['order-comment-header']}`}\n            >\n              Комментарий к заказу\n            </p>\n          </div>\n          <p\n            className={`${styles['order-status']} ${styles['order-status-header']}`}\n          >\n            Статус заказа\n          </p>\n        </li>\n        {orders.map(({ _id, productType, createdAt, comment, status, btn }) => {\n          const date = new Date(createdAt);\n          const newDate = `${createdAt ? date.toLocaleString() : ''}`;\n          const newType = productType\n            ? `${productType[0].toUpperCase()}${productType.slice(1)}`\n            : '';\n\n          return (\n            <li className={styles['order-item']} key={_id}>\n              <p className={styles['order-date']}>{newDate}</p>\n              <div className={`${styles['order-desc']}`}>\n                <p className={`${styles['order-type']}`}>{newType}</p>\n                <p className={`${styles['order-comment']}`}>{comment}</p>\n              </div>\n              <p\n                className={`${styles['order-status']} ${\n                  styles[`order-status-${status}`]\n                }`}\n              >\n                {status}\n              </p>\n              {!btn && (\n                <button\n                  className={`${styles.button} ${styles['order-btn']}`}\n                  type=\"button\"\n                  id={_id}\n                  disabled={status === 'new' ? false : true}\n                  onClick={handleClick}\n                >\n                  Отменить заказ\n                </button>\n              )}\n            </li>\n          );\n        })}\n      </ul>\n    </Container>\n  );\n};\n","import { OrderList } from '../components/OrderList/OrderList';\r\n\r\nconst OrdersPage = () => {\r\n  return (\r\n    <main>\r\n      <OrderList />\r\n    </main>\r\n  );\r\n};\r\nexport default OrdersPage;\r\n"],"sourceRoot":""}