{"version":3,"sources":["components/OrderList/OrderList.module.scss","components/OrderList/OrderList.js","views/OrdersPage.js"],"names":["module","exports","OrderList","dispatch","useDispatch","useEffect","fetchOrders","orders","useSelector","getAllOrders","handleClick","e","updateOrderStatus","currentTarget","id","Container","type","className","styles","map","_id","productType","createdAt","comment","status","btn","date","Date","newDate","toLocaleString","newType","toUpperCase","slice","button","disabled","onClick","OrdersPage"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,OAAS,0BAA0B,YAAY,6BAA6B,aAAa,8BAA8B,cAAc,+BAA+B,aAAe,gCAAgC,kBAAkB,mCAAmC,aAAa,8BAA8B,aAAa,8BAA8B,aAAa,8BAA8B,oBAAoB,qCAAqC,aAAa,8BAA8B,gBAAgB,iCAAiC,eAAe,gCAAgC,mBAAmB,oCAAoC,oBAAoB,qCAAqC,sBAAsB,uCAAuC,sBAAsB,yC,oGCYrxBC,EAAY,WACvB,IAAMC,EAAWC,cACjBC,qBAAU,WACRF,EAASG,2BACR,CAACH,IAEJ,IAAMI,EAASC,YAAYC,gBACrBC,EAAc,SAAAC,GAClBR,EAASS,4BAAkBD,EAAEE,cAAcC,MAE7C,OACE,eAACC,EAAA,EAAD,CAAWC,KAAK,QAAhB,UACE,oBAAIC,UAAWC,IAAO,eAAtB,kDACA,qBAAID,UAAWC,IAAO,cAAtB,UACE,qBACED,UAAS,UAAKC,IAAO,cAAZ,YAA6BA,IAAO,sBAD/C,UAIE,mBAAGD,UAAWC,IAAO,cAArB,2EACA,sBACED,UAAS,UAAKC,IAAO,cAAZ,YAA6BA,IAAO,sBAD/C,UAGE,mBAAGD,UAAS,UAAKC,IAAO,eAAxB,kDACA,mBACED,UAAS,UAAKC,IAAO,iBAAZ,YAAgCA,IAAO,yBADlD,+HAMF,mBACED,UAAS,UAAKC,IAAO,gBAAZ,YAA+BA,IAAO,wBADjD,yFAbI,wBAmBLX,EAAOY,KAAI,YAA4D,IAAzDC,EAAwD,EAAxDA,IAAKC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,UAAWC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,IACrDC,EAAO,IAAIC,KAAKL,GAChBM,EAAO,UAAMF,EAAKG,kBAClBC,EAAUT,EAAW,UACpBA,EAAY,GAAGU,eADK,OACWV,EAAYW,MAAM,IACpD,GAEJ,OACE,qBAAIf,UAAWC,IAAO,cAAtB,UACE,mBAAGD,UAAWC,IAAO,cAArB,SAAqCU,IACrC,sBAAKX,UAAS,UAAKC,IAAO,eAA1B,UACE,mBAAGD,UAAS,UAAKC,IAAO,eAAxB,SAA0CY,IAC1C,mBAAGb,UAAS,UAAKC,IAAO,kBAAxB,SAA6CK,OAE/C,mBACEN,UAAS,UAAKC,IAAO,gBAAZ,YACPA,IAAO,gBAAD,OAAiBM,KAF3B,SAKGA,KAEDC,GACA,wBACER,UAAS,UAAKC,IAAOe,OAAZ,YAAsBf,IAAO,cACtCF,KAAK,SACLF,GAAIM,EACJc,SAAqB,QAAXV,EACVW,QAASzB,EALX,+FAdsCU,aC/CvCgB,UAPI,WACjB,OACE,+BACE,cAAC,EAAD","file":"static/js/orders-page.b88b4c0b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"OrderList_button__3pFxC\",\"order-btn\":\"OrderList_order-btn__1V1xE\",\"order-list\":\"OrderList_order-list__BfMMY\",\"order-title\":\"OrderList_order-title__2oypw\",\"button__icon\":\"OrderList_button__icon__3toYv\",\"order-container\":\"OrderList_order-container__3m-OL\",\"order-item\":\"OrderList_order-item__1c3h2\",\"order-date\":\"OrderList_order-date__3HGVr\",\"order-desc\":\"OrderList_order-desc__3lJ4Z\",\"order-desc-header\":\"OrderList_order-desc-header__3HQr6\",\"order-type\":\"OrderList_order-type__2L0_b\",\"order-comment\":\"OrderList_order-comment__30MMC\",\"order-status\":\"OrderList_order-status__3p0uS\",\"order-status-new\":\"OrderList_order-status-new__mSvyZ\",\"order-status-done\":\"OrderList_order-status-done__3P-pP\",\"order-status-cancel\":\"OrderList_order-status-cancel__1d9X7\",\"order-status-header\":\"OrderList_order-status-header__l25-g\"};","import React from 'react';\r\n\r\nimport styles from './OrderList.module.scss';\r\nimport Container from '../Wrappers/Container';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  fetchOrders,\r\n  getAllOrders,\r\n  updateOrderStatus,\r\n} from '../../redux/orders';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const OrderList = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchOrders());\r\n  }, [dispatch]);\r\n\r\n  const orders = useSelector(getAllOrders);\r\n  const handleClick = e => {\r\n    dispatch(updateOrderStatus(e.currentTarget.id));\r\n  };\r\n  return (\r\n    <Container type=\"order\">\r\n      <h2 className={styles['order-title']}>Заказы</h2>\r\n      <ul className={styles['order-list']}>\r\n        <li\r\n          className={`${styles['order-item']} ${styles['order-item-header']}`}\r\n          key=\"header of order list\"\r\n        >\r\n          <p className={styles['order-date']}>Дата заказа</p>\r\n          <div\r\n            className={`${styles['order-desc']} ${styles['order-desc-header']}`}\r\n          >\r\n            <p className={`${styles['order-type']}`}>Услуга</p>\r\n            <p\r\n              className={`${styles['order-comment']} ${styles['order-comment-header']}`}\r\n            >\r\n              Комментарий к заказу\r\n            </p>\r\n          </div>\r\n          <p\r\n            className={`${styles['order-status']} ${styles['order-status-header']}`}\r\n          >\r\n            Статус заказа\r\n          </p>\r\n        </li>\r\n        {orders.map(({ _id, productType, createdAt, comment, status, btn }) => {\r\n          const date = new Date(createdAt);\r\n          const newDate = `${date.toLocaleString()}`;\r\n          const newType = productType\r\n            ? `${productType[0].toUpperCase()}${productType.slice(1)}`\r\n            : '';\r\n\r\n          return (\r\n            <li className={styles['order-item']} key={_id}>\r\n              <p className={styles['order-date']}>{newDate}</p>\r\n              <div className={`${styles['order-desc']}`}>\r\n                <p className={`${styles['order-type']}`}>{newType}</p>\r\n                <p className={`${styles['order-comment']}`}>{comment}</p>\r\n              </div>\r\n              <p\r\n                className={`${styles['order-status']} ${\r\n                  styles[`order-status-${status}`]\r\n                }`}\r\n              >\r\n                {status}\r\n              </p>\r\n              {!btn && (\r\n                <button\r\n                  className={`${styles.button} ${styles['order-btn']}`}\r\n                  type=\"button\"\r\n                  id={_id}\r\n                  disabled={status === 'new' ? false : true}\r\n                  onClick={handleClick}\r\n                >\r\n                  Отменить заказ\r\n                </button>\r\n              )}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </Container>\r\n  );\r\n};\r\n","import { OrderList } from '../components/OrderList/OrderList';\r\n\r\nconst OrdersPage = () => {\r\n  return (\r\n    <main>\r\n      <OrderList />\r\n    </main>\r\n  );\r\n};\r\nexport default OrdersPage;\r\n"],"sourceRoot":""}