{"version":3,"sources":["components/SettingsList/SettingsList.module.scss","components/SettingsList/SettingsList.js","views/SettingsPage.js"],"names":["module","exports","MyTextInput","label","props","useField","field","meta","className","styles","htmlFor","id","name","touched","error","button","type","MyRadioBtn","children","value","MyDownloadInput","setFieldValue","useState","fakeField","setFakeField","onChange","e","currentTarget","files","target","onClick","SettingsList","dispatch","useDispatch","initialValues","firstName","validationSchema","Yup","required","onSubmit","values","setSubmitting","resetForm","changeFirstName","form","placeholder","autoComplete","lastName","changeLastName","email","changeEmail","password","min","changePassword","sex","changeSex","role","avatar","shape","formData","FormData","append","changeAvatar","encType","accept","SettingsPage","Container","User","sexRend"],"mappings":"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","file":"static/js/settings-page.94233c04.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SettingsList_button__34eke\",\"settings-list\":\"SettingsList_settings-list__3FaxN\",\"form-title\":\"SettingsList_form-title__F9CZW\",\"button__icon\":\"SettingsList_button__icon__3_4cW\",\"settings-list-item\":\"SettingsList_settings-list-item__13Fjk\",\"form\":\"SettingsList_form__3LKx_\",\"form-btn\":\"SettingsList_form-btn__25qE6\",\"form-container\":\"SettingsList_form-container__1XZ24\",\"form-label\":\"SettingsList_form-label__18LGW\",\"form-error\":\"SettingsList_form-error__3t93u\",\"form-input\":\"SettingsList_form-input__3uLxb\",\"form-radio\":\"SettingsList_form-radio__1hD3E\",\"form-radio-btn\":\"SettingsList_form-radio-btn__2irX_\",\"input-download\":\"SettingsList_input-download__3_RLs\",\"input-download-fake\":\"SettingsList_input-download-fake__1pCha\",\"input-download-wrapper\":\"SettingsList_input-download-wrapper__YUpJs\",\"input-download-label\":\"SettingsList_input-download-label__2nRLw\"};","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styles from './SettingsList.module.scss';\r\nimport { Formik, Form, Field, useField } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport {\r\n  changeFirstName,\r\n  changeLastName,\r\n  changeEmail,\r\n  changePassword,\r\n  changeSex,\r\n  changeAvatar,\r\n} from '../../redux/auth';\r\n\r\nconst MyTextInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <label className={styles['form-label']} htmlFor={props.id || props.name}>\r\n        <span>{label}</span>\r\n        {meta.touched && meta.error ? (\r\n          <div className={styles['form-error']}>*{meta.error}</div>\r\n        ) : null}\r\n      </label>\r\n      <div className={styles['form-container']}>\r\n        <input className={styles['form-input']} {...field} {...props} />\r\n        <button\r\n          className={`${styles.button} ${styles['form-btn']}`}\r\n          type=\"submit\"\r\n        >\r\n          Иземенить\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst MyRadioBtn = ({ children, ...props }) => {\r\n  return (\r\n    <label className={styles['form-radio']}>\r\n      <Field\r\n        className={styles['form-radio-btn']}\r\n        type=\"radio\"\r\n        value={children === 'мужской' ? 'male' : 'female'}\r\n        {...props}\r\n      />\r\n      {children}\r\n    </label>\r\n  );\r\n};\r\n\r\nconst MyDownloadInput = ({ label, setFieldValue, ...props }) => {\r\n  const [fakeField, setFakeField] = useState(null);\r\n\r\n  const handleChange = e => {\r\n    setFieldValue('avatar', e.currentTarget.files[0]);\r\n    setFakeField(e?.target?.files[0]?.name);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setFakeField(null);\r\n  };\r\n\r\n  return (\r\n    <div className={styles['input-download-wrapper']}>\r\n      <input\r\n        className={styles['input-download']}\r\n        name=\"file\"\r\n        type=\"file\"\r\n        id=\"field__file-2\"\r\n        {...props}\r\n        onChange={handleChange}\r\n      />\r\n\r\n      <label className={styles['input-download-label']} htmlFor=\"field__file-2\">\r\n        {label}\r\n        <div className={styles['form-container']}>\r\n          <div className={styles['input-download-fake']}>\r\n            {fakeField ? fakeField : 'Выбрать файл'}\r\n          </div>\r\n          <button\r\n            className={`${styles.button} ${styles['form-btn']}`}\r\n            onClick={handleClick}\r\n            type=\"submit\"\r\n          >\r\n            Иземенить\r\n          </button>\r\n        </div>\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SettingsList = () => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <ul className={`${styles['settings-list']}`}>\r\n      <li className={`${styles['settings-list-item']}`}>\r\n        <Formik\r\n          initialValues={{\r\n            firstName: '',\r\n          }}\r\n          validationSchema={Yup.object({\r\n            firstName: Yup.string().required('обязательно'),\r\n          })}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            dispatch(changeFirstName(values));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          <Form className={styles.form}>\r\n            <MyTextInput\r\n              label=\"Изменить имя\"\r\n              name=\"firstName\"\r\n              id=\"firstName\"\r\n              type=\"text\"\r\n              placeholder=\"Введите имя\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </Form>\r\n        </Formik>\r\n      </li>\r\n      <li className={`${styles['settings-list-item']}`}>\r\n        <Formik\r\n          initialValues={{\r\n            lastName: '',\r\n          }}\r\n          validationSchema={Yup.object({\r\n            lastName: Yup.string().required('обязательно'),\r\n          })}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            dispatch(changeLastName(values));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          <Form className={styles.form}>\r\n            <MyTextInput\r\n              label=\"Изменить фамилию\"\r\n              name=\"lastName\"\r\n              id=\"lastName\"\r\n              type=\"text\"\r\n              placeholder=\"Введите фамилию\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </Form>\r\n        </Formik>\r\n      </li>\r\n      <li className={`${styles['settings-list-item']}`}>\r\n        <Formik\r\n          initialValues={{\r\n            email: '',\r\n          }}\r\n          validationSchema={Yup.object({\r\n            email: Yup.string()\r\n              .email('Указан неверный email')\r\n              .required('обязательно'),\r\n          })}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            dispatch(changeEmail(values));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          <Form className={styles.form}>\r\n            <MyTextInput\r\n              label=\"Изменить Email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"user@webstudio.com\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </Form>\r\n        </Formik>\r\n      </li>\r\n      <li className={`${styles['settings-list-item']}`}>\r\n        <Formik\r\n          initialValues={{\r\n            password: '',\r\n          }}\r\n          validationSchema={Yup.object({\r\n            password: Yup.string().min(6).required('обязательно'),\r\n          })}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            dispatch(changePassword(values));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          <Form className={styles.form}>\r\n            <MyTextInput\r\n              label=\"Изменить пароль\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </Form>\r\n        </Formik>\r\n      </li>\r\n      <li className={`${styles['settings-list-item']}`}>\r\n        <Formik\r\n          initialValues={{\r\n            sex: '',\r\n          }}\r\n          validationSchema={Yup.object({\r\n            sex: Yup.string().required('обязательно'),\r\n          })}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            dispatch(changeSex(values));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          <Form className={styles.form}>\r\n            <div className={styles['form-label']} id=\"my-radio-group\">\r\n              Изменить пол\r\n            </div>\r\n            <div className={styles['form-container']}>\r\n              <div role=\"group\" aria-labelledby=\"my-radio-group\">\r\n                <MyRadioBtn name=\"sex\">мужской</MyRadioBtn>\r\n                <MyRadioBtn name=\"sex\">женский</MyRadioBtn>\r\n              </div>\r\n              <button\r\n                className={`${styles.button} ${styles['form-btn']}`}\r\n                type=\"submit\"\r\n              >\r\n                Иземенить\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        </Formik>\r\n      </li>\r\n      <li className={`${styles['settings-list-item']}`}>\r\n        <Formik\r\n          initialValues={{\r\n            avatar: '',\r\n          }}\r\n          validationSchema={Yup.object().shape({\r\n            avatar: Yup.mixed().required('обязательно'),\r\n          })}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            const formData = new FormData();\r\n            formData.append('avatar', values.avatar);\r\n            dispatch(changeAvatar(formData));\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          {({ setFieldValue }) => (\r\n            <Form encType=\"multipart/form-data\" className={styles.form}>\r\n              <MyDownloadInput\r\n                label=\"Иземенить аватар\"\r\n                name=\"avatar\"\r\n                accept=\"image/*\"\r\n                setFieldValue={setFieldValue}\r\n              />\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n","import { SettingsList } from '../components/SettingsList/SettingsList';\r\nimport User from '../components/User';\r\nimport Container from '../components/Wrappers/Container';\r\n\r\nconst SettingsPage = () => (\r\n  <Container type=\"settings\">\r\n    <User sexRend />\r\n    <SettingsList />\r\n  </Container>\r\n);\r\n\r\nexport default SettingsPage;\r\n"],"sourceRoot":""}